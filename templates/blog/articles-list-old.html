{% extends 'base.html' %}
{% load static %}

{# Title #}
{% block title %}<title>Blog</title>{% endblock title %}


{# General meta information (i.e. Description, tags, etc...) #}
{% block meta %}
{% endblock meta %}


{# Stylesheets #}
{% block style %}
{% endblock style %}


{# Head Scripts #}
{% block head_script %}
{% endblock head_script %}


{# Header #}
{% block header %}
    {% include 'components/header.html' %}
{% endblock header %}


{# Page content #}
{% block content %}

    <div class="bg-white py-24 sm:py-32">
        <div class="mx-auto max-w-7xl px-6 lg:px-8">
            <div class="mx-auto max-w-2xl lg:max-w-4xl">
                <h2 class="text-3xl font-bold tracking-tight text-gray-900 sm:text-4xl">From the blog</h2>
                <p class="mt-2 text-lg leading-8 text-gray-600">Learn how to grow your business with our expert
                    advice.</p>

                <div class="py-2">
                    <a href="{% url 'blog:create-post' %}"
                       class="bg-gray-100 text-gray-800 font-semibold rounded px-2 py-2 hover:bg-gray-200">Create
                        article</a>
                </div>

                <div class="mt-16 space-y-20 lg:mt-20 lg:space-y-20">

                    {% for post in published_posts %}
                        <article class="relative isolate flex flex-col gap-8 lg:flex-row">
                            <div class="relative aspect-[16/9] sm:aspect-[2/1] lg:aspect-square lg:w-64 lg:shrink-0">
                                <img src="https://images.unsplash.com/photo-1496128858413-b36217c2ce36?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=3603&q=80"
                                     alt="" class="absolute inset-0 h-full w-full rounded-2xl bg-gray-50 object-cover">
                                <div class="absolute inset-0 rounded-2xl ring-1 ring-inset ring-gray-900/10"></div>
                            </div>
                            <div>
                                <div class="flex items-center gap-x-4 text-xs">
                                    <time datetime="{{ post.date_published|date:"M d, Y" }}"
                                          class="text-gray-500">{{ post.date_published|date:"M d, Y" }}</time>
                                    <a href="#"
                                       class="relative z-10 rounded-full bg-gray-50 px-3 py-1.5 font-medium text-gray-600 hover:bg-gray-100">Marketing</a>
                                </div>
                                <div class="group relative max-w-xl">
                                    <h3 class="mt-3 text-lg font-semibold leading-6 text-gray-900 group-hover:text-gray-600">
                                        <a href="{% url 'blog:post' slug=post.slug %}">
                                            <span class="absolute inset-0"></span>
                                            {{ post.title }}
                                        </a>
                                    </h3>
                                    <p class="mt-5 text-sm leading-6 text-gray-600">Illo sint voluptas. Error voluptates
                                        culpa eligendi. Hic vel totam vitae illo. Non aliquid explicabo necessitatibus
                                        unde.
                                        Sed exercitationem placeat consectetur nulla deserunt vel iusto corrupti dicta
                                        laboris incididunt.</p>
                                </div>
                                <div class="mt-6 flex border-t border-gray-900/5 pt-6">
                                    <div class="relative flex items-center gap-x-4">
                                        <img src="https://images.unsplash.com/photo-1519244703995-f4e0f30006d5?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80"
                                             alt="" class="h-10 w-10 rounded-full bg-gray-50">
                                        <div class="text-sm leading-6">
                                            <p class="font-semibold text-gray-900">
                                                <a href="#">
                                                    <span class="absolute inset-0"></span>
                                                    Michael Foster
                                                </a>
                                            </p>
                                            <p class="text-gray-600">Co-Founder / CTO</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </article>
                    {% endfor %}

                    <hr>
                    <div class="text-gray-800 font-semibold ">Non-Published Posts (Admin Only)</div>

                    {% for article in unpublished_articles %}
                        <article class="relative isolate flex flex-col gap-8 lg:flex-row">
                            <div class="relative aspect-[16/9] sm:aspect-[2/1] lg:aspect-square lg:w-64 lg:shrink-0">
                                <img src="https://images.unsplash.com/photo-1496128858413-b36217c2ce36?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=3603&q=80"
                                     alt="" class="absolute inset-0 h-full w-full rounded-2xl bg-gray-50 object-cover">
                                <div class="absolute inset-0 rounded-2xl ring-1 ring-inset ring-gray-900/10"></div>
                            </div>
                            <div>
                                <div class="flex items-center gap-x-4 text-xs">
                                    <time datetime="{{ article.date_published|date:"M d, Y" }}"
                                          class="text-gray-500">{{ article.date_published|date:"M d, Y" }}</time>
                                    <div
                                            class="relative z-10 rounded-full bg-gray-50 px-3 py-1.5 font-medium text-gray-600 hover:bg-gray-100">
                                        Marketing
                                    </div>
                                </div>
                                <div class="group relative max-w-xl">
                                    <h3 class="mt-3 text-lg font-semibold leading-6 text-gray-900 group-hover:text-gray-600">
                                        <a href="{% url 'blog:post' slug=article.slug %}">
                                            <span class="absolute inset-0"></span>
                                            {{ article.title }}
                                        </a>
                                    </h3>
                                    <p class="mt-5 text-sm leading-6 text-gray-600">Post description goes here...</p>
                                </div>
                                <a href="{% url 'blog:edit-article' uuid=article.uuid %}"
                                   class="rounded bg-white px-2 py-1 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50">
                                    Edit article
                                </a>
                                <div class="mt-6 flex border-t border-gray-900/5 pt-6">
                                    {% for author in article.authors.all %}
                                        <div class="relative flex items-center gap-x-4">
                                            {% include 'components/avatar/avatar-10x10.html' %}
                                            <div class="text-sm leading-6">
                                                <p class="font-semibold text-gray-900">
                                                    <a href="#">
                                                        <span class="absolute inset-0"></span>
                                                        {{ author.username }}
                                                    </a>
                                                </p>
                                                <p class="text-gray-600">Co-Founder / CTO</p>
                                            </div>
                                        </div>
                                    {% endfor %}

                                </div>
                            </div>
                        </article>
                    {% endfor %}

                </div>
            </div>
        </div>
    </div>


{% endblock content %}


{# Footer #}
{% block footer %}
    {% include 'components/footer.html' %}
{% endblock footer %}


{# Scripts #}
{% block scripts %}
{% endblock scripts %}